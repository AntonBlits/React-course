"use strict";(self.webpackChunkreact_kabzda=self.webpackChunkreact_kabzda||[]).push([[236],{7236:function(e,s,a){a.r(s),a.d(s,{default:function(){return v}});var i=a(2807),n=a(1413),r=a(2791),t={dialogs:"Dialogs_dialogs__iSI7a",dialogItems:"Dialogs_dialogItems__TgpoZ",dialog:"Dialogs_dialog__mJnH4",messages:"Dialogs_messages__-ErC2",message:"Dialogs_message__2UTaJ",addMessages:"Dialogs_addMessages__kgPo7",error:"Dialogs_error__GfCzJ",btn:"Dialogs_btn__-NNZs"},o=a(184),d=function(e){var s=e.message;return(0,o.jsx)("div",{className:t.message,children:s})},l=a(3504),g=function(e){var s=e.id,a=e.name,i=e.avatar,n="/dialogs/"+s;return(0,o.jsxs)("div",{className:t.dialog+" "+t.active,children:[(0,o.jsx)("img",{src:i}),(0,o.jsx)(l.OL,{to:n,children:a})]})},u=a(5290),c=function(e){var s,a=e.onSubmit,i=(0,u.cI)({mode:"all"}),d=i.register,l=i.handleSubmit,g=i.reset,c=i.formState.errors;return(0,r.useEffect)((function(){g()}),[a]),(0,o.jsxs)("form",{onSubmit:l(a),className:t.addMessages,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("textarea",(0,n.Z)({placeholder:"Enter message",className:c.newMessageText&&t.error},d("newMessageText",{required:"Your textarea is required",maxLength:{value:10,message:"Your textarea exceed maxLength 10"}}))),(null===c||void 0===c?void 0:c.newMessageText)&&(0,o.jsx)("div",{style:{color:"red"},children:null===(s=c.newMessageText)||void 0===s?void 0:s.message})]}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{className:t.btn,children:"Send"})})]})},m=function(e){var s=e.dialogsPage,a=e.onAddMessage,i=s,n=i.dialogs.map((function(e){return(0,o.jsx)(g,{name:e.name,id:e.id,avatar:e.avatar},e.id)})),r=i.messages.map((function(e){return(0,o.jsx)(d,{message:e.message},e.id)}));return(0,o.jsxs)("div",{className:t.dialogs,children:[(0,o.jsx)("div",{className:t.dialogItems,children:n}),(0,o.jsxs)("div",{className:t.messages,children:[r,(0,o.jsx)(c,{onSubmit:function(e){a(e.newMessageText)}})]})]})},x=a(364),_=a(7781),h=a(6871),f=function(e){return{isAuth:e.auth.isAuth}},v=(0,_.qC)((0,x.$j)((function(e){return{dialogsPage:e.dialogsPage,isAuth:e.auth.isAuth}}),(function(e){return{onAddMessage:function(s){return e((0,i.q)(s))}}})),(function(e){return(0,x.$j)(f)((function(s){return s.isAuth?(0,o.jsx)(e,(0,n.Z)({},s)):(0,o.jsx)(h.Fg,{replase:!0,to:"/login"})}))}))(m)}}]);
//# sourceMappingURL=236.43a0e658.chunk.js.map