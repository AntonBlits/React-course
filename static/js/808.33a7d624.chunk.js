"use strict";(self.webpackChunkreact_kabzda=self.webpackChunkreact_kabzda||[]).push([[808],{3808:function(e,t,s){s.r(t),s.d(t,{default:function(){return J}});var i=s(1413),o=s(5987),n=s(2791),a=s(364),r=s(6070),l="Post_item__KhjiJ",u=s(184),c=function(e){var t=e.amount,s=e.message;return(0,u.jsxs)("div",{className:l,children:[(0,u.jsx)("img",{src:"http://img2.joyreactor.cc/pics/post/full/%D0%BB%D0%B8%D1%87%D0%BD%D0%BE%D0%B5-%D0%B0%D0%B2%D0%B0%D1%82%D0%B0%D1%80%D0%BA%D0%B0-art-%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5-%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B8-5007944.jpeg",alt:"#"}),(0,u.jsx)("span",{children:s}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"like "}),t]})]})},d="MyPost_postsBlock__gFeXC",f="MyPost_posts__LIaO3",h="MyPost_error__aSQaR",x="MyPost_btn__nVG--",p=s(5290),v=function(e){var t,s=e.onSubmit,o=(0,p.cI)({mode:"all"}),a=o.register,r=o.reset,l=o.handleSubmit,c=o.formState.errors;return(0,n.useEffect)((function(){r()}),[s]),(0,u.jsxs)("form",{onSubmit:l(s),children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("textarea",(0,i.Z)({placeholder:"Write a post",className:c.newPostText&&h},a("newPostText",{required:"Your textarea is required",maxLength:{value:20,message:"Your textarea exceed maxLength 20!"}}))),(null===c||void 0===c?void 0:c.newPostText)&&(0,u.jsx)("div",{style:{color:"red"},children:null===c||void 0===c||null===(t=c.newPostText)||void 0===t?void 0:t.message})]}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{className:x,children:"add post"})})]})},j=function(e){var t=e.posts,s=e.addPost,i=t.map((function(e){return(0,u.jsx)(c,{message:e.message,amount:e.likesCount},e.id)}));return(0,u.jsxs)("div",{className:d,children:[(0,u.jsx)("h3",{children:"My post"}),(0,u.jsx)(v,{onSubmit:function(e){s(e.newPostText)}}),(0,u.jsx)("div",{className:f,children:i})]})},m=(0,a.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){return e((0,r.HM)(t))}}}))(j),g=s(885),b=s(5489),_={image:"ProfileInfo_image__zk6zW",discriptionBlock:"ProfileInfo_discriptionBlock__ADdBk",infoAboutMe:"ProfileInfo_infoAboutMe__G-ziR",avatar:"ProfileInfo_avatar__TLE9f",status:"ProfileInfo_status__gu9Ni",contact:"ProfileInfo_contact__zCsgP",btn:"ProfileInfo_btn__-UQT3",editInput:"ProfileInfo_editInput__JcnST",input:"ProfileInfo_input__1ALpr"},P=s(8137),D=function(e){var t=e.status,s=e.updateStatus,i=(0,n.useState)(!1),o=(0,g.Z)(i,2),a=o[0],r=o[1],l=(0,n.useState)(t),c=(0,g.Z)(l,2),d=c[0],f=c[1];(0,n.useEffect)((function(){f(t)}),[t]);return(0,u.jsx)("div",{className:_.status,children:a?(0,u.jsx)("div",{children:(0,u.jsx)("input",{autoFocus:!0,onChange:function(e){f(e.target.value)},onBlur:function(){r(!1),s(d)},value:d})}):(0,u.jsx)("div",{children:(0,u.jsx)("span",{onDoubleClick:function(){r(!0)},children:t||"___"})})})},N=function(e){var t=e.onSubmit,s=e.profile,o=(0,p.cI)({mode:"all"}),n=o.register,a=o.handleSubmit,r=o.formState.errors;return(0,u.jsxs)("form",{onSubmit:a(t),children:[(0,u.jsxs)("div",{className:_.editInput,children:[(0,u.jsx)("b",{children:"full Name:"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("input",(0,i.Z)({className:_.input,defaultValue:s.fullName},n("fullName",{maxLength:{value:30,message:"Your input mast have maxLength 30!"}}))),(null===r||void 0===r?void 0:r.fullName)&&(0,u.jsx)("div",{style:{color:"red"},children:r.fullName.message})]})]}),(0,u.jsxs)("div",{className:_.editInput,children:[(0,u.jsx)("b",{children:"about Me:"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("input",(0,i.Z)({className:_.input,defaultValue:s.aboutMe},n("aboutMe",{maxLength:{value:50,message:"Your input mast have maxLength 50!"}}))),(null===r||void 0===r?void 0:r.aboutMe)&&(0,u.jsx)("div",{style:{color:"red"},children:r.aboutMe.message})]})]}),(0,u.jsxs)("div",{className:_.editInput,children:[(0,u.jsx)("b",{children:"looking For A Job:"}),(0,u.jsx)("div",{children:(0,u.jsx)("input",(0,i.Z)((0,i.Z)({className:_.input},n("lookingForAJob")),{},{type:"checkbox"}))})]}),(0,u.jsxs)("div",{className:_.editInput,children:[(0,u.jsx)("b",{children:"looking For A Job Description:"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("input",(0,i.Z)({className:_.input,defaultValue:s.lookingForAJobDescription},n("lookingForAJobDescription",{maxLength:{value:30,message:"Your input mast have maxLength 30!"}}))),(null===r||void 0===r?void 0:r.lookingForAJobDescription)&&(0,u.jsx)("div",{style:{color:"red"},children:r.lookingForAJobDescription.message})]})]}),(0,u.jsxs)("div",{className:_.contacts,children:[(0,u.jsx)("h3",{children:"Contacts:"}),Object.keys(s.contacts).map((function(e){return(0,u.jsxs)("div",{className:_.editInput+" "+_.contactInput,children:[(0,u.jsxs)("b",{children:[e,":"]}),(0,u.jsx)("div",{children:(0,u.jsx)("input",(0,i.Z)({className:_.input,defaultValue:s.contacts[e]},n("contacts."+e,{maxLength:{value:100,message:"Your input mast have maxLength 100!"}})))})]},e)}))]}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{className:_.btn,children:"save profile"})})]})},k=function(e){var t=e.profile,s=e.isOwner,i=e.goToEditMode;return(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:t.fullName}),t.aboutMe&&(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"about Me:"})," ",t.aboutMe]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"looking For A Job:"})," ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJobDescription&&(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"looking For A Job Description:"})," ",t.lookingForAJobDescription]}),(0,u.jsxs)("div",{className:_.contacts,children:[(0,u.jsx)("h3",{children:"Contacts:"}),Object.keys(t.contacts).map((function(e){return(0,u.jsx)(B,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),(0,u.jsx)("div",{children:s&&(0,u.jsx)("button",{className:_.btn,onClick:i,children:"edit profile"})})]})},B=function(e){var t=e.contactTitle,s=e.contactValue;return(0,u.jsxs)("div",{className:_.contact,children:[(0,u.jsx)("b",{children:t})," : ",s]})},S=function(e){var t=e.profile,s=e.status,i=e.updateStatus,o=e.isOwner,a=e.savePhoto,r=e.saveProfile,l=(0,n.useState)(!1),c=(0,g.Z)(l,2),d=c[0],f=c[1];if(!t)return(0,u.jsx)(b.Z,{});return(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:_.discriptionBlock,children:[(0,u.jsxs)("div",{className:_.avatar,children:[(0,u.jsx)("img",{src:t.photos.large||P}),o&&(0,u.jsx)("input",{className:_.editPhoto,type:"file",onChange:function(e){e.target.files.length&&a(e.target.files[0])}})]}),(0,u.jsxs)("div",{className:_.infoAboutMe,children:[(0,u.jsx)(D,{status:s,updateStatus:i}),d?(0,u.jsx)(N,{profile:t,onSubmit:function(e){r(e),f(!1)},goToEditMode:f}):(0,u.jsx)(k,{profile:t,isOwner:o,goToEditMode:function(){return f(!0)}})]})]})})},I=function(e){var t=e.profile,s=e.status,i=e.updateStatus,o=e.isOwner,n=e.savePhoto,a=e.saveProfile;return(0,u.jsxs)("div",{children:[(0,u.jsx)(S,{profile:t,status:s,updateStatus:i,isOwner:o,savePhoto:n,saveProfile:a}),(0,u.jsx)(m,{})]})},A=s(6871),M=s(7781),y=["getUserProfile","getStatus","profile","status","updateStatus","savePhoto","saveProfile"],J=(0,M.qC)((0,a.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authorizedUserId:e.auth.userId}}),{getUserProfile:r.et,getStatus:r.lR,updateStatus:r.Nf,savePhoto:r.Ju,saveProfile:r.Ii}))((function(e){var t=e.getUserProfile,s=e.getStatus,a=e.profile,r=e.status,l=e.updateStatus,c=e.savePhoto,d=e.saveProfile,f=(0,o.Z)(e,y),h=(0,A.UO)().userId;return h||(h=f.authorizedUserId),(0,n.useEffect)((function(){t(h),s(h)}),[h]),(0,u.jsx)(I,(0,i.Z)((0,i.Z)({},f),{},{profile:a,status:r,updateStatus:l,isOwner:!(0,A.UO)().userId,savePhoto:c,saveProfile:d}))}))}}]);
//# sourceMappingURL=808.33a7d624.chunk.js.map