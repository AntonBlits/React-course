"use strict";(self.webpackChunkreact_kabzda=self.webpackChunkreact_kabzda||[]).push([[236],{7236:function(e,s,a){a.r(s),a.d(s,{default:function(){return v}});var i=a(2807),r=a(1413),n=a(2791),t={dialogs:"Dialogs_dialogs__iSI7a",dialogItems:"Dialogs_dialogItems__TgpoZ",dialog:"Dialogs_dialog__mJnH4",messages:"Dialogs_messages__-ErC2",message:"Dialogs_message__2UTaJ",addMessages:"Dialogs_addMessages__kgPo7",error:"Dialogs_error__GfCzJ"},d=a(184),o=function(e){var s=e.message;return(0,d.jsx)("div",{className:t.message,children:s})},l=a(3504),g=function(e){var s=e.id,a=e.name,i=e.avatar,r="/dialogs/"+s;return(0,d.jsxs)("div",{className:t.dialog+" "+t.active,children:[(0,d.jsx)("img",{src:i}),(0,d.jsx)(l.OL,{to:r,children:a})]})},u=a(5290),c=function(e){var s,a=e.onSubmit,i=(0,u.cI)({mode:"all"}),o=i.register,l=i.handleSubmit,g=i.reset,c=i.formState.errors;return(0,n.useEffect)((function(){g()}),[a]),(0,d.jsxs)("form",{onSubmit:l(a),className:t.addMessages,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("textarea",(0,r.Z)({placeholder:"Enter message",className:c.newMessageText&&t.error},o("newMessageText",{required:"Your textarea is required",maxLength:{value:10,message:"Your textarea exceed maxLength 10"}}))),(null===c||void 0===c?void 0:c.newMessageText)&&(0,d.jsx)("div",{style:{color:"red"},children:null===(s=c.newMessageText)||void 0===s?void 0:s.message})]}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{children:"Send"})})]})},m=function(e){var s=e.dialogsPage,a=e.onAddMessage,i=s,r=i.dialogs.map((function(e){return(0,d.jsx)(g,{name:e.name,id:e.id,avatar:e.avatar},e.id)})),n=i.messages.map((function(e){return(0,d.jsx)(o,{message:e.message},e.id)}));return(0,d.jsxs)("div",{className:t.dialogs,children:[(0,d.jsx)("div",{className:t.dialogItems,children:r}),(0,d.jsxs)("div",{className:t.messages,children:[n,(0,d.jsx)(c,{onSubmit:function(e){a(e.newMessageText)}})]})]})},x=a(364),h=a(7781),f=a(6871),_=function(e){return{isAuth:e.auth.isAuth}},v=(0,h.qC)((0,x.$j)((function(e){return{dialogsPage:e.dialogsPage,isAuth:e.auth.isAuth}}),(function(e){return{onAddMessage:function(s){return e((0,i.q)(s))}}})),(function(e){return(0,x.$j)(_)((function(s){return s.isAuth?(0,d.jsx)(e,(0,r.Z)({},s)):(0,d.jsx)(f.Fg,{replase:!0,to:"/login"})}))}))(m)}}]);
//# sourceMappingURL=236.d24d7e06.chunk.js.map